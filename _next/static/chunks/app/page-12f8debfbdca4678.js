(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1299:(e,s,a)=>{Promise.resolve().then(a.bind(a,3973))},3973:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>eA});var t=a(5155),l=a(2115),r=a(2821),n=a(5889);function i(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,n.QP)((0,r.$)(s))}let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:i("rounded-xl border bg-card text-card-foreground shadow",a),...l})});d.displayName="Card";let o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:i("flex flex-col space-y-1.5 p-6",a),...l})});o.displayName="CardHeader";let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:i("font-semibold leading-none tracking-tight",a),...l})});c.displayName="CardTitle";let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:i("text-sm text-muted-foreground",a),...l})});m.displayName="CardDescription";let x=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:i("p-6 pt-0",a),...l})});x.displayName="CardContent",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:i("flex items-center p-6 pt-0",a),...l})}).displayName="CardFooter";var h=a(2467),u=a(3101);let p=(0,u.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),f=l.forwardRef((e,s)=>{let{className:a,variant:l,size:r,asChild:n=!1,...d}=e,o=n?h.DX:"button";return(0,t.jsx)(o,{className:i(p({variant:l,size:r,className:a})),ref:s,...d})});f.displayName="Button";let j=l.forwardRef((e,s)=>{let{className:a,type:l,...r}=e;return(0,t.jsx)("input",{type:l,className:i("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...r})});j.displayName="Input";let g=(0,u.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function b(e){let{className:s,variant:a,...l}=e;return(0,t.jsx)("div",{className:i(g({variant:a}),s),...l})}let N=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:i("w-full caption-bottom text-sm",a),...l})})});N.displayName="Table";let v=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("thead",{ref:s,className:i("[&_tr]:border-b",a),...l})});v.displayName="TableHeader";let y=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("tbody",{ref:s,className:i("[&_tr:last-child]:border-0",a),...l})});y.displayName="TableBody",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("tfoot",{ref:s,className:i("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...l})}).displayName="TableFooter";let w=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("tr",{ref:s,className:i("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...l})});w.displayName="TableRow";let k=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("th",{ref:s,className:i("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...l})});k.displayName="TableHead";let D=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("td",{ref:s,className:i("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...l})});D.displayName="TableCell",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("caption",{ref:s,className:i("mt-4 text-sm text-muted-foreground",a),...l})}).displayName="TableCaption";var A=a(9511),C=a(5229);let R=A.bL,L=A.l9,U=A.ZL;A.bm;let T=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(A.hJ,{ref:s,className:i("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});T.displayName=A.hJ.displayName;let S=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(U,{children:[(0,t.jsx)(T,{}),(0,t.jsxs)(A.UC,{ref:s,className:i("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r,children:[l,(0,t.jsxs)(A.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(C.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});S.displayName=A.UC.displayName;let O=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:i("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};O.displayName="DialogHeader";let E=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(A.hE,{ref:s,className:i("text-lg font-semibold leading-none tracking-tight",a),...l})});E.displayName=A.hE.displayName;let P=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(A.VY,{ref:s,className:i("text-sm text-muted-foreground",a),...l})});P.displayName=A.VY.displayName;var V=a(6131),F=a(4033),M=a(2108),z=a(5917);let J=V.bL;V.YJ;let I=V.WT,X=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(V.l9,{ref:s,className:i("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[l,(0,t.jsx)(V.In,{asChild:!0,children:(0,t.jsx)(F.A,{className:"h-4 w-4 opacity-50"})})]})});X.displayName=V.l9.displayName;let _=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(V.PP,{ref:s,className:i("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(M.A,{className:"h-4 w-4"})})});_.displayName=V.PP.displayName;let H=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(V.wn,{ref:s,className:i("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(F.A,{className:"h-4 w-4"})})});H.displayName=V.wn.displayName;let B=l.forwardRef((e,s)=>{let{className:a,children:l,position:r="popper",...n}=e;return(0,t.jsx)(V.ZL,{children:(0,t.jsxs)(V.UC,{ref:s,className:i("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...n,children:[(0,t.jsx)(_,{}),(0,t.jsx)(V.LM,{className:i("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(H,{})]})})});B.displayName=V.UC.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(V.JU,{ref:s,className:i("px-2 py-1.5 text-sm font-semibold",a),...l})}).displayName=V.JU.displayName;let q=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(V.q7,{ref:s,className:i("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,t.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(V.VF,{children:(0,t.jsx)(z.A,{className:"h-4 w-4"})})}),(0,t.jsx)(V.p4,{children:l})]})});q.displayName=V.q7.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(V.wv,{ref:s,className:i("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=V.wv.displayName;var Y=a(7520);let Z=Y.Kq,K=Y.bL,G=Y.l9,Q=l.forwardRef((e,s)=>{let{className:a,sideOffset:l=4,...r}=e;return(0,t.jsx)(Y.ZL,{children:(0,t.jsx)(Y.UC,{ref:s,sideOffset:l,className:i("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",a),...r})})});Q.displayName=Y.UC.displayName;var W=a(6758),$=a.n(W);let ee=JSON.parse('[{"name":"テムジン 747A","ratio":6},{"name":"テムジン 747F","ratio":3},{"name":"テムジン 747H","ratio":2},{"name":"テムジン 747T","ratio":1},{"name":"10/80","ratio":1},{"name":"テムジン 707J","ratio":3},{"name":"テムジン 707J+","ratio":4},{"name":"テムジン 707J/C","ratio":2},{"name":"マイザー ガンマ","ratio":4},{"name":"マイザー デルタ","ratio":3},{"name":"マイザー イータ","ratio":4},{"name":"アファームド J TypeC","ratio":1},{"name":"アファームド J TypeA","ratio":3},{"name":"アファームド J TypeG","ratio":2},{"name":"アファームド J TypeX","ratio":1},{"name":"アファームド J TypeM","ratio":2},{"name":"アファームド T TypeF","ratio":3},{"name":"アファームド T TypeD","ratio":2},{"name":"アファームド T TypeB","ratio":3},{"name":"アファームド T TypeX","ratio":1},{"name":"フェイイェン VH","ratio":3},{"name":"フェイイェン BH","ratio":2},{"name":"フェイイェン PH","ratio":4},{"name":"フェイイェン CH","ratio":1},{"name":"VOX Dan","ratio":1},{"name":"VOX Age","ratio":3},{"name":"VOX Joe","ratio":4},{"name":"VOX Danny","ratio":2},{"name":"VOX Bob","ratio":5},{"name":"VOX U-ta","ratio":2},{"name":"VOX Mariko","ratio":3},{"name":"VOX Tetsuo","ratio":6},{"name":"ライデン E2","ratio":3},{"name":"ライデン E1","ratio":5},{"name":"ライデン D","ratio":3},{"name":"ライデン A","ratio":6},{"name":"ライデン N2","ratio":1},{"name":"ライデン N1","ratio":1},{"name":"エンジェラン 慈愛","ratio":2},{"name":"エンジェラン 慰撫","ratio":3},{"name":"エンジェラン 治癒","ratio":2},{"name":"ガラヤカ","ratio":5},{"name":"バル・ディ・メオラ","ratio":2},{"name":"バル・バ・チスタ","ratio":3},{"name":"バル・バ・ティグラ","ratio":3},{"name":"バル・メ・リーノ","ratio":3},{"name":"バル・ミ・ランダ","ratio":3},{"name":"バル・セ・リムゾ","ratio":3},{"name":"スペシネフ 罪","ratio":5},{"name":"スペシネフ 終","ratio":3},{"name":"景清 風","ratio":4},{"name":"景清 林","ratio":4},{"name":"景清 火","ratio":5},{"name":"景清 山","ratio":5},{"name":"景清 旧風","ratio":2}]'),es=new Map,ea=new Map;async function et(){try{return await navigator.clipboard.writeText(window.location.href),!0}catch(e){return console.error("Failed to copy URL to clipboard:",e),!1}}ee.forEach((e,s)=>{es.set(e.name,s),ea.set(s,e.name)});let el={メイン機:{value:4,color:"bg-green-500",textColor:"text-white",label:"メイン機"},サブ機:{value:3,color:"bg-blue-500",textColor:"text-white",label:"サブ機"},一応乗れる:{value:2,color:"bg-yellow-500",textColor:"text-white",label:"一応乗れる"},自信なし:{value:1,color:"bg-orange-500",textColor:"text-white",label:"自信なし"},使えない:{value:0,color:"bg-red-500",textColor:"text-white",label:"使えない"}};function er(e){switch(e){case 1:return"ratio-badge-1";case 2:return"ratio-badge-2";case 3:return"ratio-badge-3";case 4:return"ratio-badge-4";case 5:return"ratio-badge-5";case 6:return"ratio-badge-6";default:return e>6?"ratio-badge-6":"ratio-badge-1"}}var en=a(814),ei=a(6154),ed=a(8198),eo=a(508),ec=a(6613),em=a(3997),ex=a(5276),eh=a(908),eu=a(9708);let ep=(0,l.memo)(function(e){let{patterns:s,totalPointLimit:a,playerNames:r,lockedRobots:n={}}=e,i=(0,l.useMemo)(()=>(()=>{let e={};s.forEach(s=>{e[s.playerName]||(e[s.playerName]=[]),e[s.playerName].push({pointUsage:s.pointUsage,robots:s.robots}),s.alternatives&&s.alternatives.forEach(a=>{e[s.playerName].push({pointUsage:a.pointUsage,robots:a.robots})})});let t=[];!function s(l,i,d){if(l>=r.length){if(d<=a&&d>0){let e=Object.values(i).flat().filter(e=>"メイン機"===e.skillLevel).length,s=Object.entries(i).sort((e,s)=>{let[a]=e,[t]=s;return a.localeCompare(t)}).map(e=>{let[s,a]=e;return"".concat(s,":").concat(a.map(e=>e.name).sort().join(","))}).join("|");if(t.find(e=>e.combinationId===s))return;t.push({totalPoints:d,playerAssignments:{...i},totalMainRobots:e,efficiency:0,combinationId:s})}return}let o=r[l];(e[o]||[]).forEach(e=>{let t=d+e.pointUsage,r=n[o];if((!r||e.robots.some(e=>e.name===r))&&t<=a){let a={...i};a[o]=e.robots,s(l+1,a,t)}})}(0,{},0);let l=Array.from(new Set(t.map(e=>e.combinationId))).map(e=>t.find(s=>s.combinationId===e)).sort((e,s)=>s.totalPoints-e.totalPoints).slice(0,20);return t.filter(e=>l.some(s=>s.combinationId===e.combinationId))})(),[s,r,a]);return 0===i.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"編成パターンが見つかりませんでした"}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(N,{children:[(0,t.jsx)(v,{children:(0,t.jsxs)(w,{children:[(0,t.jsx)(k,{className:"w-20 text-center",children:"総ポイント"}),r.map(e=>(0,t.jsx)(k,{className:"text-center min-w-48",children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[e.includes("あんのーん")?(0,t.jsx)(en.A,{className:"w-4 h-4 text-blue-600"}):e.includes("おたいき")?(0,t.jsx)(ei.A,{className:"w-4 h-4 text-yellow-600"}):e.includes("たっちん")?(0,t.jsx)(ed.A,{className:"w-4 h-4 text-red-600"}):(0,t.jsx)(eo.A,{className:"w-4 h-4 text-gray-600"}),(0,t.jsx)("span",{children:e})]})},e)),(0,t.jsx)(k,{className:"w-20 text-center",children:"メイン機"})]})}),(0,t.jsx)(y,{children:i.map((e,s)=>(0,t.jsxs)(w,{className:e.totalMainRobots>0?"bg-green-50":"",children:[(0,t.jsx)(D,{className:"text-center",children:(0,t.jsxs)(b,{variant:"outline",className:"text-base",children:[e.totalPoints,"PT"]})}),r.map(s=>{var a;return(0,t.jsx)(D,{className:"text-center",children:0===(a=e.playerAssignments[s]||[]).length?(0,t.jsx)("span",{className:"text-gray-400",children:"-"}):(0,t.jsx)("div",{className:"space-y-1",children:a.map((e,s)=>{let a=n[e.playerName]===e.name;return(0,t.jsxs)("div",{className:"flex items-center flex-wrap gap-1 text-xs",children:[(e=>{switch(e){case"メイン機":return(0,t.jsx)(ec.A,{className:"w-3 h-3 text-yellow-600"});case"サブ機":return(0,t.jsx)(em.A,{className:"w-3 h-3 text-blue-600"});case"一応乗れる":return(0,t.jsx)(ex.A,{className:"w-3 h-3 text-green-600"});case"自信なし":return(0,t.jsx)(eh.A,{className:"w-3 h-3 text-orange-600"});case"使えない":return(0,t.jsx)(C.A,{className:"w-3 h-3 text-red-600"});default:return(0,t.jsx)(eh.A,{className:"w-3 h-3 text-gray-600"})}})(e.skillLevel),(0,t.jsxs)(b,{className:er(e.ratio),variant:"secondary",children:[e.ratio,"PT"]}),(0,t.jsx)("span",{className:"font-medium",children:e.name}),(0,t.jsxs)("span",{className:"text-gray-500 text-xs",children:["(",e.skillLevel,")"]}),a&&(0,t.jsx)("div",{title:"固定された機体",children:(0,t.jsx)(eu.A,{className:"w-3 h-3 text-blue-600"})})]},s)})})},s)}),(0,t.jsx)(D,{className:"text-center",children:(0,t.jsxs)(b,{className:e.totalMainRobots>0?"bg-yellow-500":"bg-gray-300",variant:e.totalMainRobots>0?"default":"secondary",children:[e.totalMainRobots,"機"]})})]},"".concat(e.combinationId,"-").concat(s)))})]})}),(0,t.jsxs)("div",{className:"mt-4 text-xs text-gray-500 space-y-1",children:[(0,t.jsx)("div",{children:"\uD83D\uDCA1 表の見方:"}),(0,t.jsxs)("div",{children:["• ",(0,t.jsx)("span",{className:"px-2 py-1 bg-green-50 rounded",children:"緑色の行"}),": メイン機を使用するチーム編成（推奨）"]}),(0,t.jsx)("div",{children:"• 各行が1人1機体の使用状況"}),(0,t.jsx)("div",{children:"• 同じ総ポイント・メイン機数の行は同じチーム編成"}),(0,t.jsx)("div",{children:"• 総ポイントが高い順で並び替え（強い機体優先）"})]})]})});var ef=a(639),ej=a(1169),eg=a(5870),eb=a(7181),eN=a(368),ev=a(7937);function ey(){let[e,s]=(0,l.useState)(!1),[a,r]=(0,l.useState)(0),n=[{title:"VO4レシオバトル チーム編成ツールへようこそ！",icon:(0,t.jsx)(ef.A,{className:"w-6 h-6 text-blue-600"}),content:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"このツールは、VO4（アーマード・コア）のレシオバトルで最適なチーム編成を自動計算するアプリです！"}),(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"✨ 主な機能"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,t.jsx)("li",{children:"• プレイヤーごとのスキルレベル設定"}),(0,t.jsx)("li",{children:"• ポイント制限内での最適編成計算"}),(0,t.jsx)("li",{children:"• 機体固定による編成パターン生成"}),(0,t.jsx)("li",{children:"• URLでの設定共有"})]})]})]})},{title:"Step 1: プレイヤー管理",icon:(0,t.jsx)(ej.A,{className:"w-6 h-6 text-green-600"}),content:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"まず、チームメンバーを追加しましょう！"}),(0,t.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-green-800 mb-2",children:"\uD83D\uDC65 プレイヤー追加方法"}),(0,t.jsxs)("ol",{className:"text-sm text-green-700 space-y-1",children:[(0,t.jsx)("li",{children:"1. 「新しいプレイヤー名」に名前を入力"}),(0,t.jsx)("li",{children:"2. 「プレイヤー追加」ボタンをクリック"}),(0,t.jsx)("li",{children:"3. 不要な場合は❌ボタンで削除可能"})]})]}),(0,t.jsx)("div",{className:"bg-yellow-50 p-3 rounded-lg",children:(0,t.jsx)("p",{className:"text-xs text-yellow-700",children:"\uD83D\uDCA1 URLから設定を読み込んだ場合、既にプレイヤーが追加されています"})})]})},{title:"Step 2: スキルレベル設定",icon:(0,t.jsx)(en.A,{className:"w-6 h-6 text-purple-600"}),content:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"各プレイヤーの機体ごとのスキルレベルを設定します。"}),(0,t.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-purple-800 mb-3",children:"\uD83C\uDFAF スキルレベル一覧"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ec.A,{className:"w-4 h-4 text-yellow-600"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"メイン機"}),(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"- 最も得意な機体"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(em.A,{className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"サブ機"}),(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"- よく使える機体"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ex.A,{className:"w-4 h-4 text-green-600"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"一応乗れる"}),(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"- 使える機体"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eh.A,{className:"w-4 h-4 text-orange-600"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"自信なし"}),(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"- あまり得意じゃない"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.A,{className:"w-4 h-4 text-red-600"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"使えない"}),(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"- 使用不可"})]})]})]})]})},{title:"Step 3: ポイント制限設定",icon:(0,t.jsx)(eg.A,{className:"w-6 h-6 text-indigo-600"}),content:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"チーム全体のポイント上限を設定します。"}),(0,t.jsxs)("div",{className:"bg-indigo-50 p-3 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-indigo-800 mb-2",children:"⚙️ ポイント制限"}),(0,t.jsxs)("ul",{className:"text-sm text-indigo-700 space-y-1",children:[(0,t.jsx)("li",{children:"• デフォルト: 9PT"}),(0,t.jsx)("li",{children:"• 大会ルールに合わせて調整可能"}),(0,t.jsx)("li",{children:"• 入力欄で自由に変更できます"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-800 mb-2",children:"\uD83C\uDFAE レシオについて"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"各機体には「レシオ」（ポイント）が設定されており、強い機体ほど高いレシオが設定されています。"})]})]})},{title:"Step 4: 最適化計算",icon:(0,t.jsx)(ei.A,{className:"w-6 h-6 text-yellow-600"}),content:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"設定が完了したら、最適な編成を計算しましょう！"}),(0,t.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-yellow-800 mb-2",children:"⚡ 計算実行"}),(0,t.jsxs)("ol",{className:"text-sm text-yellow-700 space-y-1",children:[(0,t.jsx)("li",{children:"1. 「最適化計算」ボタンをクリック"}),(0,t.jsx)("li",{children:"2. パターンタイプを選択："}),(0,t.jsx)("li",{className:"ml-4",children:"• バランス: 全体最適"}),(0,t.jsx)("li",{className:"ml-4",children:"• プレイヤー優先: 特定プレイヤー重視"}),(0,t.jsx)("li",{children:"3. 結果が「チーム編成パターン表」に表示"})]})]})]})},{title:"Step 5: 機体固定機能",icon:(0,t.jsx)(eu.A,{className:"w-6 h-6 text-red-600"}),content:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"特定のプレイヤーの機体を固定して、他のメンバーの最適編成を計算できます。"}),(0,t.jsxs)("div",{className:"bg-red-50 p-3 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-red-800 mb-2",children:"\uD83D\uDD12 固定機能の使い方"}),(0,t.jsxs)("ol",{className:"text-sm text-red-700 space-y-1",children:[(0,t.jsx)("li",{children:"1. チーム編成パターン表の「機体固定設定」で選択"}),(0,t.jsx)("li",{children:"2. プレイヤーごとに固定したい機体を選択"}),(0,t.jsx)("li",{children:"3. 「固定しない」で解除可能"}),(0,t.jsx)("li",{children:"4. 固定された機体は\uD83D\uDD12アイコンで表示"})]})]}),(0,t.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:(0,t.jsx)("p",{className:"text-xs text-blue-700",children:"\uD83D\uDCA1 固定機体が設定されると、自動で再計算されます"})})]})},{title:"Step 6: 結果の見方",icon:(0,t.jsx)(ed.A,{className:"w-6 h-6 text-orange-600"}),content:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"計算結果の見方を説明します。"}),(0,t.jsxs)("div",{className:"bg-orange-50 p-3 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-orange-800 mb-2",children:"\uD83D\uDCCA 表示順序"}),(0,t.jsxs)("div",{className:"flex items-center gap-1 mb-2",children:[(0,t.jsx)(ec.A,{className:"w-3 h-3 text-yellow-600"}),(0,t.jsx)(b,{className:"bg-red-500 text-white text-xs",children:"3PT"}),(0,t.jsx)("span",{className:"text-sm",children:"バル・ミ・ランダ"})]}),(0,t.jsx)("p",{className:"text-xs text-orange-700",children:"アイコン → ポイント → 機体名 の順で表示されます"})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-green-800 mb-2",children:"\uD83C\uDFC6 パターンの優先順位"}),(0,t.jsxs)("ul",{className:"text-sm text-green-700 space-y-1",children:[(0,t.jsx)("li",{children:"• メイン機・サブ機の数が多い順"}),(0,t.jsx)("li",{children:"• 効率（スキル値/ポイント）が高い順"}),(0,t.jsx)("li",{children:"• 上位15パターンまで表示"})]})]})]})},{title:"Step 7: 設定の共有",icon:(0,t.jsx)(eb.A,{className:"w-6 h-6 text-cyan-600"}),content:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"設定をURLで共有して、チームメンバーと編成を検討できます。"}),(0,t.jsxs)("div",{className:"bg-cyan-50 p-3 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-cyan-800 mb-2",children:"\uD83D\uDD17 URL共有機能"}),(0,t.jsxs)("ol",{className:"text-sm text-cyan-700 space-y-1",children:[(0,t.jsx)("li",{children:"1. 「共有URL生成」ボタンをクリック"}),(0,t.jsx)("li",{children:"2. 設定が含まれたURLが生成されます"}),(0,t.jsx)("li",{children:"3. 「URLをコピー」でクリップボードにコピー"}),(0,t.jsx)("li",{children:"4. チームメンバーに共有してください"})]})]}),(0,t.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-purple-800 mb-2",children:"\uD83D\uDCBE 自動保存"}),(0,t.jsx)("p",{className:"text-sm text-purple-700",children:"設定変更時に自動でURLが更新され、ブラウザの戻る/進むボタンでも設定が保持されます。"})]})]})}],i=n[a];return(0,t.jsxs)(R,{open:e,onOpenChange:s,children:[(0,t.jsx)(L,{asChild:!0,children:(0,t.jsxs)(f,{variant:"outline",size:"sm",className:"gap-2",children:[(0,t.jsx)(eh.A,{className:"w-4 h-4"}),"使い方"]})}),(0,t.jsxs)(S,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,t.jsx)(O,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[i.icon,(0,t.jsxs)("div",{children:[(0,t.jsx)(E,{className:"text-lg",children:i.title}),(0,t.jsxs)(P,{children:["Step ",a+1," of ",n.length]})]})]})}),(0,t.jsx)("div",{className:"py-4",children:i.content}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat((a+1)/n.length*100,"%")}})}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)(f,{variant:"outline",onClick:()=>{r(e=>Math.max(e-1,0))},disabled:0===a,className:"gap-2",children:[(0,t.jsx)(eN.A,{className:"w-4 h-4"}),"前へ"]}),(0,t.jsx)("div",{className:"flex gap-1",children:n.map((e,s)=>(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s===a?"bg-blue-500":s<a?"bg-blue-300":"bg-gray-200")},s))}),a===n.length-1?(0,t.jsxs)(f,{onClick:()=>{r(0),s(!1)},className:"gap-2",children:["完了",(0,t.jsx)(ec.A,{className:"w-4 h-4"})]}):(0,t.jsxs)(f,{onClick:()=>{r(e=>Math.min(e+1,n.length-1))},className:"gap-2",children:["次へ",(0,t.jsx)(ev.A,{className:"w-4 h-4"})]})]})]})]})}var ew=a(7125),ek=a(1669),eD=a(6989);function eA(){let{players:e,isLoaded:s,addPlayer:a,removePlayer:r,updatePlayerSkill:n}=function(){let[e,s]=(0,l.useState)([]),[a,t]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=function(){let e=new URL(window.location.href).searchParams.get("data");if(e)try{if(!e)return[];let s=$().decompressFromEncodedURIComponent(e);if(!s)return[];return JSON.parse(s).map((e,s)=>({id:s+1,name:e.n||"プレイヤー".concat(s+1),skills:function(e){let s={};return Object.entries(e).forEach(e=>{let[a,t]=e,l=parseInt(a,10),r=ea.get(l);r&&(s[r]=({0:"使えない",1:"自信なし",2:"一応乗れる",3:"サブ機",4:"メイン機"})[t]||"使えない")}),s}(e.s||{})}))}catch(e){return console.error("Failed to decode players from URL:",e),[]}return[]}();e.length>0&&s(e),t(!0)},[]),(0,l.useEffect)(()=>{a&&e.length>0&&function(e){let s=function(e){try{let s=e.map(e=>({n:e.name,s:Object.entries(e.skills).reduce((e,s)=>{let[a,t]=s,l={使えない:0,自信なし:1,一応乗れる:2,サブ機:3,メイン機:4}[t]||0;if(l>0){let s=es.get(a);void 0!==s&&(e[s]=l)}return e},{})})),a=JSON.stringify(s);return $().compressToEncodedURIComponent(a)}catch(e){return console.error("Failed to encode players to URL:",e),""}}(e),a=new URL(window.location.href);s?a.searchParams.set("data",s):a.searchParams.delete("data"),setTimeout(()=>{window.history.replaceState({},"",a.toString())},0)}(e)},[e,a]);let r=(0,l.useCallback)(e=>{s(e)},[]),n=(0,l.useCallback)(e=>{s(s=>[...s,{id:Date.now(),name:e,skills:{}}])},[]);return{players:e,isLoaded:a,updatePlayers:r,addPlayer:n,removePlayer:(0,l.useCallback)(e=>{s(s=>s.filter(s=>s.id!==e))},[]),updatePlayerSkill:(0,l.useCallback)((e,a,t)=>{s(s=>s.map(s=>s.id===e?{...s,skills:{...s.skills,[a]:t}}:s))},[])}}(),[i,h]=(0,l.useState)(9),[u,p]=(0,l.useState)(""),[g,A]=(0,l.useState)(!1),[U,T]=(0,l.useState)(!1),[V,F]=(0,l.useState)(null),[M,z]=(0,l.useState)(null),[_,H]=(0,l.useState)(!1),[Y,W]=(0,l.useState)({}),[ej,eN]=(0,l.useState)([]),ev=()=>{u.trim()&&(a(u.trim()),p(""))},eA=(0,l.useCallback)((e,s)=>{W(a=>{let t={...a};return s&&t[e]!==s?t[e]=s:delete t[e],t})},[]),eC=(0,l.useCallback)((e,s,a)=>{n(e,s,a)},[n]),eR=(0,l.useMemo)(()=>ee,[]),eL=function(e,s){let[a,t]=(0,l.useState)(e);return(0,l.useEffect)(()=>{let s=setTimeout(()=>{t(e)},500);return()=>{clearTimeout(s)}},[e,500]),a}(e,500),eU=(0,l.useMemo)(()=>eL.map(e=>({...e,skills:{...eR.reduce((s,a)=>(s[a.name]=e.skills[a.name]||"使えない",s),{}),...e.skills}})),[eL,eR]),eT=(0,l.useRef)(null),eS=(0,l.useRef)({}),eO=e=>e.includes("あんのーん")?(0,t.jsx)(en.A,{className:"w-4 h-4 text-blue-600"}):e.includes("おたいき")?(0,t.jsx)(ei.A,{className:"w-4 h-4 text-yellow-600"}):e.includes("たっちん")?(0,t.jsx)(ed.A,{className:"w-4 h-4 text-red-600"}):(0,t.jsx)(eo.A,{className:"w-4 h-4 text-gray-600"}),eE=async()=>{let e=await et();T(e),A(!0),e&&setTimeout(()=>T(!1),2e3)},eP=(0,l.useCallback)(async()=>{H(!0);try{let e=function(e,s,a,t){let l=[];return e.forEach(e=>{let r=null==t?void 0:t[e.name],n=s.map(s=>{let a=e.skills[s.name]||"使えない",t=el[a].value;return{...s,skillValue:t,playerName:e.name,skillLevel:a}}).filter(s=>!(s.skillValue<=0)&&(r?s.name===r:!(t&&Object.entries(t).some(a=>{let[t,l]=a;return t!==e.name&&l===s.name}))&&!0)).sort((e,s)=>{if("メイン機"===e.skillLevel&&"メイン機"!==s.skillLevel)return -1;if("メイン機"===s.skillLevel&&"メイン機"!==e.skillLevel)return 1;if(e.skillLevel===s.skillLevel)return e.ratio-s.ratio;let a={メイン機:0,サブ機:1,一応乗れる:2,自信なし:3,使えない:4};return a[e.skillLevel]-a[s.skillLevel]}),i=[];for(let e=1;e<=Math.min(a,6);e++){let s=function(e,s){let a={robots:[],totalPoints:0,totalSkillValue:0},t=[],l=0,r=0;for(let a of e)if(l+a.ratio<=s&&(t.push(a),l+=a.ratio,r+=a.skillValue,l===s))break;return t.length>0&&(a={robots:t,totalPoints:l,totalSkillValue:r}),a}(n,e);if(s.robots.length>0){let e=s.robots.filter(e=>"メイン機"===e.skillLevel).length;i.push({pointUsage:s.totalPoints,robots:s.robots,mainRobotCount:e,efficiency:0})}}let d=i.sort((e,s)=>e.mainRobotCount!==s.mainRobotCount?s.mainRobotCount-e.mainRobotCount:s.pointUsage-e.pointUsage);if(d.length>0){let s=d[0],a=d.slice(1).filter(e=>e.pointUsage!==s.pointUsage||e.mainRobotCount!==s.mainRobotCount).slice(0,2);l.push({playerName:e.name,pointUsage:s.pointUsage,robots:s.robots,alternatives:a.map(s=>({playerName:e.name,pointUsage:s.pointUsage,robots:s.robots}))})}}),l}(eU,eR,i,Y);z(e);let s=function(e,s,a,t){let l=[],r={};e.forEach(e=>{let a=s.map(s=>{let a=e.skills[s.name]||"使えない",t=el[a].value;return{...s,skillValue:t,playerName:e.name,skillLevel:a}}).filter(s=>{if("メイン機"!==s.skillLevel&&"サブ機"!==s.skillLevel&&"一応乗れる"!==s.skillLevel)return!1;let a=null==t?void 0:t[e.name];return a?s.name===a:!(t&&Object.entries(t).some(a=>{let[t,l]=a;return t!==e.name&&l===s.name}))&&!0}).sort((e,s)=>"メイン機"===e.skillLevel&&"メイン機"!==s.skillLevel?-1:"メイン機"===s.skillLevel&&"メイン機"!==e.skillLevel?1:"サブ機"===e.skillLevel&&"一応乗れる"===s.skillLevel?-1:"サブ機"===s.skillLevel&&"一応乗れる"===e.skillLevel?1:e.ratio-s.ratio);r[e.name]=a});let n=new Map;for(let l=0;l<300&&n.size<50;l++){let l=function(e,s,a,t,l){let r=[],n=new Set,i=t;for(let t of[...e].sort(()=>Math.random()-.5)){let e=null==l?void 0:l[t.name],o=null;if(e){let a=s.map(e=>{let s=t.skills[e.name]||"使えない",a=el[s].value;return{...e,skillValue:a,playerName:t.name,skillLevel:s}}).filter(e=>e.skillValue>0).find(s=>s.name===e);if(!a||!(a.ratio<=i)||n.has(a.name))return null;o=a}else{var d;let e=(null==(d=a[t.name])?void 0:d.filter(e=>!n.has(e.name)&&e.ratio<=i))||[];if(e.length>0){let s=e.slice(0,Math.min(3,e.length)),a=Math.floor(Math.random()*s.length);o=s[a]}}if(!o)return null;r.push({playerName:t.name,pointUsage:o.ratio,robots:[o]}),n.add(o.name),i-=o.ratio}return r}(e,s,r,a,t);if(l&&l.length===e.length){let e=[...l].sort((e,s)=>e.playerName.localeCompare(s.playerName)).map(e=>"".concat(e.playerName,":").concat(e.robots.map(e=>e.name).sort().join(","))).join("|");n.has(e)||n.set(e,l)}}for(let e of n.values())l.push(...e);return l.filter(e=>{let s=null==t?void 0:t[e.playerName];return!s||e.robots.some(e=>e.name===s)}).slice(0,50)}(eU,eR,i,Y);eN(s),setTimeout(()=>{eT.current&&eT.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)}catch(e){console.error("Optimization calculation failed:",e)}finally{H(!1)}},[eU,eR,i,Y]);return((0,l.useEffect)(()=>{let a=JSON.stringify(eS.current)!==JSON.stringify(Y);if(a&&e.length>0&&s){let e=setTimeout(async()=>{await eP()},300);return eS.current={...Y},()=>clearTimeout(e)}a&&(eS.current={...Y})},[Y,e.length,eP,s]),s)?(0,t.jsx)(Z,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[(0,t.jsx)("header",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 shadow-lg py-12",children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-center flex-1",children:[(0,t.jsxs)("h1",{className:"text-5xl font-bold mb-3 text-white flex items-center justify-center space-x-4 drop-shadow-lg",children:[(0,t.jsx)("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:(0,t.jsx)(eg.A,{className:"w-12 h-12 text-white"})}),(0,t.jsx)("span",{children:"VO4 レシオバトル編成ツール"})]}),(0,t.jsx)("p",{className:"text-xl text-blue-100 font-medium",children:"✨ 最適なチーム編成を見つけよう！ \uD83D\uDE80"})]}),(0,t.jsx)("div",{className:"flex items-start",children:(0,t.jsx)(ey,{})})]})})}),(0,t.jsxs)("main",{className:"container mx-auto px-4 pb-8 -mt-8 relative z-10",children:[(0,t.jsxs)(d,{className:"mb-8 shadow-xl border-0 bg-white/95 backdrop-blur-sm",children:[(0,t.jsxs)(o,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-lg",children:[(0,t.jsxs)(c,{className:"flex items-center space-x-3 text-xl",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,t.jsx)(eg.A,{className:"w-6 h-6 text-blue-600"})}),(0,t.jsx)("span",{className:"text-gray-800",children:"⚙️ 設定パネル"})]}),(0,t.jsx)(m,{className:"text-gray-600 ml-11",children:"ポイント制限とプレイヤー管理 \uD83C\uDFAE"})]}),(0,t.jsxs)(x,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-100",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFAF"}),(0,t.jsxs)(K,{children:[(0,t.jsx)(G,{asChild:!0,children:(0,t.jsx)("label",{htmlFor:"pointLimit",className:"text-sm font-semibold text-gray-700 cursor-help",children:"ポイント制限:"})}),(0,t.jsxs)(Q,{children:[(0,t.jsx)("p",{children:"チーム全体で使用できる最大ポイント数です"}),(0,t.jsx)("p",{children:"大会ルールに合わせて調整してください"})]})]})]}),(0,t.jsx)(j,{id:"pointLimit",type:"number",value:i,onChange:e=>h(Number(e.target.value)),className:"w-24 shadow-sm border-purple-200 focus:border-purple-400 focus:ring-purple-200",min:"1",max:"50"}),(0,t.jsx)("span",{className:"text-sm font-medium text-purple-600 bg-purple-100 px-2 py-1 rounded-md",children:"PT"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl p-6 border border-emerald-100",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center space-x-2 text-gray-800",children:[(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDC65"}),(0,t.jsx)("span",{children:"プレイヤー管理"}),(0,t.jsxs)("span",{className:"text-sm bg-emerald-100 text-emerald-700 px-2 py-1 rounded-full font-medium",children:[e.length,"人"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[e.map(s=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border border-emerald-100 hover:shadow-md transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"p-2 bg-emerald-100 rounded-lg",children:eO(s.name)}),(0,t.jsx)("span",{className:"font-semibold text-gray-700",children:s.name})]}),(0,t.jsx)(f,{variant:"destructive",size:"sm",onClick:()=>r(s.id),disabled:e.length<=1,className:"hover:bg-red-600 transition-colors",children:(0,t.jsx)(ew.A,{className:"w-4 h-4"})})]},s.id)),(0,t.jsxs)("div",{className:"flex space-x-3 p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl border-2 border-dashed border-blue-200",children:[(0,t.jsx)(j,{placeholder:"\uD83C\uDD95 新しいプレイヤー名を入力",value:u,onChange:e=>p(e.target.value),onKeyPress:e=>"Enter"===e.key&&ev(),className:"flex-1 border-blue-200 focus:border-blue-400 focus:ring-blue-200"}),(0,t.jsx)(f,{onClick:ev,disabled:!u.trim(),className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:"➕ 追加"})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 p-4 bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl border border-gray-200",children:[(0,t.jsxs)(R,{open:g,onOpenChange:A,children:[(0,t.jsx)(L,{asChild:!0,children:(0,t.jsxs)(f,{onClick:eE,variant:"outline",className:"flex items-center space-x-2 hover:bg-blue-50 hover:border-blue-300 transition-all duration-200 shadow-sm",children:[(0,t.jsx)(eb.A,{className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{children:"\uD83D\uDD17 URL共有"})]})}),(0,t.jsxs)(S,{children:[(0,t.jsxs)(O,{children:[(0,t.jsx)(E,{children:"URL共有"}),(0,t.jsx)(P,{children:"以下のURLを他のメンバーに共有してください"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"p-3 bg-muted rounded-lg break-all text-sm",children:window.location.href}),U&&(0,t.jsx)("div",{className:"text-green-600 text-sm font-medium",children:"✅ URLをクリップボードにコピーしました！"})]})]})]}),(0,t.jsxs)(K,{children:[(0,t.jsx)(G,{asChild:!0,children:(0,t.jsx)(f,{size:"lg",className:"text-lg px-10 py-4 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",onClick:eP,disabled:_||0===e.length,children:_?(0,t.jsxs)("span",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-3 border-white border-t-transparent"}),(0,t.jsx)("span",{children:"\uD83D\uDD04 計算中..."})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(ef.A,{className:"w-6 h-6"}),(0,t.jsx)("span",{children:"✨ 最適編成を計算 \uD83D\uDE80"})]})})}),(0,t.jsxs)(Q,{children:[(0,t.jsx)("p",{children:"プレイヤーのスキル設定に基づいて"}),(0,t.jsx)("p",{children:"最適なチーム編成を自動計算します"}),(0,t.jsx)("p",{children:"メイン機・サブ機を優先して提案します"})]})]})]})]})]}),(0,t.jsxs)(d,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-sm",children:[(0,t.jsxs)(o,{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-t-lg",children:[(0,t.jsxs)(c,{className:"flex items-center space-x-3 text-xl",children:[(0,t.jsx)("div",{className:"p-2 bg-amber-100 rounded-lg",children:(0,t.jsx)(eg.A,{className:"w-6 h-6 text-amber-600"})}),(0,t.jsx)("span",{className:"text-gray-800",children:"\uD83E\uDD16 機体データ管理"})]}),(0,t.jsx)(m,{className:"text-gray-600 ml-11",children:"各プレイヤーの機体習熟度を設定してください ⚙️"})]}),(0,t.jsx)(x,{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(N,{children:[(0,t.jsx)(v,{children:(0,t.jsxs)(w,{children:[(0,t.jsx)(k,{className:"w-48",children:"機体名"}),(0,t.jsx)(k,{className:"w-20 text-center",children:"レシオ"}),e.map(e=>(0,t.jsx)(k,{className:"text-center min-w-24",children:e.name},e.id))]})}),(0,t.jsx)(y,{children:eR.map(s=>(0,t.jsxs)(w,{children:[(0,t.jsx)(D,{className:"font-medium",children:s.name}),(0,t.jsx)(D,{className:"text-center",children:(0,t.jsx)(b,{className:er(s.ratio),children:s.ratio})}),e.map(e=>{let a=e.skills[s.name]||"使えない";return(0,t.jsx)(D,{className:"text-center",children:(0,t.jsxs)(J,{value:a,onValueChange:a=>eC(e.id,s.name,a),children:[(0,t.jsx)(X,{className:"w-36 h-8 text-xs",children:(0,t.jsx)(I,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(e=>{switch(e){case"メイン機":return(0,t.jsx)(ec.A,{className:"w-4 h-4 text-yellow-600"});case"サブ機":return(0,t.jsx)(em.A,{className:"w-4 h-4 text-blue-600"});case"一応乗れる":return(0,t.jsx)(ex.A,{className:"w-4 h-4 text-green-600"});case"自信なし":return(0,t.jsx)(eh.A,{className:"w-4 h-4 text-orange-600"});case"使えない":return(0,t.jsx)(C.A,{className:"w-4 h-4 text-red-600"})}})(a),(0,t.jsx)("span",{children:a})]})})}),(0,t.jsxs)(B,{children:[(0,t.jsx)(q,{value:"使えない",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(C.A,{className:"w-4 h-4 text-red-600"}),(0,t.jsx)("span",{children:"使えない"})]})}),(0,t.jsx)(q,{value:"自信なし",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eh.A,{className:"w-4 h-4 text-orange-600"}),(0,t.jsx)("span",{children:"自信なし"})]})}),(0,t.jsx)(q,{value:"一応乗れる",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ex.A,{className:"w-4 h-4 text-green-600"}),(0,t.jsx)("span",{children:"一応乗れる"})]})}),(0,t.jsx)(q,{value:"サブ機",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(em.A,{className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{children:"サブ機"})]})}),(0,t.jsx)(q,{value:"メイン機",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ec.A,{className:"w-4 h-4 text-yellow-600"}),(0,t.jsx)("span",{children:"メイン機"})]})})]})]})},e.id)})]},s.name))})]})})})]}),M&&(0,t.jsx)("div",{ref:eT,className:"mt-8",children:(0,t.jsxs)(d,{className:"animate-in slide-in-from-bottom-4 duration-500 shadow-xl border-0 bg-gradient-to-br from-white via-blue-50/30 to-purple-50/30 backdrop-blur-sm",children:[(0,t.jsxs)(o,{className:"bg-gradient-to-r from-violet-50 to-purple-50 rounded-t-lg border-b border-purple-100",children:[(0,t.jsxs)(c,{className:"flex items-center space-x-3 text-2xl",children:[(0,t.jsx)("div",{className:"p-3 bg-violet-100 rounded-lg",children:(0,t.jsx)(ek.A,{className:"w-7 h-7 text-violet-600"})}),(0,t.jsx)("span",{className:"text-gray-800",children:"\uD83C\uDFAF チーム編成パターン表"})]}),(0,t.jsxs)(m,{className:"text-gray-600 ml-12 text-lg",children:["✨ ",i,"PT制限での最適チーム編成組み合わせ（総ポイント順） \uD83D\uDE80"]})]}),(0,t.jsxs)(x,{className:"border-t border-purple-100 mt-6 pt-6",children:[(0,t.jsxs)("div",{className:"mb-6 p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-xl border border-orange-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,t.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,t.jsx)(eD.A,{className:"w-5 h-5 text-orange-600"})}),(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"\uD83D\uDD12 機体固定設定（任意）"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 ml-12",children:"特定のプレイヤーの機体を固定して、残りのプレイヤーの最適編成を提案できます ✨"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,t.jsxs)("div",{className:"space-y-2 p-3 bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,t.jsxs)("label",{className:"text-sm font-semibold text-gray-700 flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"p-1 bg-blue-100 rounded",children:eO(e.name)}),(0,t.jsx)("span",{children:e.name})]}),(0,t.jsxs)(J,{value:Y[e.name]||"none",onValueChange:s=>{"none"===s?eA(e.name):eA(e.name,s)},children:[(0,t.jsx)(X,{className:"w-full bg-white h-9 text-xs border-gray-300 focus:border-blue-400 focus:ring-blue-200",children:(0,t.jsx)(I,{placeholder:"\uD83D\uDD13 機体を選択"})}),(0,t.jsxs)(B,{children:[(0,t.jsx)(q,{value:"none",children:(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsx)("span",{className:"text-gray-500",children:"固定しない"})})}),eR.filter(s=>"使えない"!==(e.skills[s.name]||"使えない")).sort((s,a)=>{var t,l;let r=e.skills[s.name]||"使えない",n=e.skills[a.name]||"使えない",i={メイン機:0,サブ機:1,一応乗れる:2,自信なし:3},d=null!=(t=i[r])?t:999,o=null!=(l=i[n])?l:999;return d===o?s.ratio-a.ratio:d-o}).map(s=>{let a=e.skills[s.name]||"使えない";return(0,t.jsx)(q,{value:s.name,children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:["メイン機"===a&&(0,t.jsx)(ec.A,{className:"w-3 h-3 text-yellow-600"}),"サブ機"===a&&(0,t.jsx)(em.A,{className:"w-3 h-3 text-blue-600"}),"一応乗れる"===a&&(0,t.jsx)(ex.A,{className:"w-3 h-3 text-green-600"}),"自信なし"===a&&(0,t.jsx)(eh.A,{className:"w-3 h-3 text-orange-600"}),(0,t.jsx)("span",{className:"font-medium text-xs",children:s.name}),(0,t.jsxs)(b,{className:"ml-1 text-xs",variant:"secondary",children:[s.ratio,"PT"]})]})},s.name)})]})]})]},e.id))}),Object.keys(Y).length>0&&(0,t.jsxs)("div",{className:"mt-3 p-2",children:[(0,t.jsx)("div",{className:"text-xs font-medium text-gray-600 mb-1",children:"\uD83D\uDD12 固定中"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(Y).map(e=>{let[s,a]=e;return(0,t.jsxs)(b,{variant:"default",className:"bg-gray-600 text-xs",children:[(0,t.jsx)(eu.A,{className:"w-2 h-2 mr-1"}),s,": ",a]},"".concat(s,"-").concat(a))})})]})]}),(0,t.jsx)(x,{className:"pt-0",children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)(ep,{patterns:ej,totalPointLimit:i,playerNames:e.map(e=>e.name),lockedRobots:Y})})})]})})]})]})}):(0,t.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:(0,t.jsxs)("div",{className:"text-center space-y-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-20 h-20 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)(eg.A,{className:"w-8 h-8 text-blue-600 animate-pulse"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:"\uD83E\uDD16 システム初期化中..."}),(0,t.jsx)("div",{className:"text-lg text-gray-600",children:"機体データを読み込んでいます ✨"})]})]})})}}},e=>{e.O(0,[150,441,255,358],()=>e(e.s=1299)),_N_E=e.O()}]);